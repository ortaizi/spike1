// Hebrew Authentication Error Messages for Israeli Universities
// ×”×•×“×¢×•×ª ×©×’×™××” ×‘×¢×‘×¨×™×ª ×¢×‘×•×¨ ××¢×¨×›×ª ×”××™××•×ª

export const AUTH_ERRORS_HE = {
  // Google OAuth Errors
  AccessDenied: {
    title: '×’×™×©×” × ×“×—×ª×”',
    message: '×”×”×ª×—×‘×¨×•×ª ×¢× Google × ×“×—×ª×”. ×× × ×•×•×“× ×©×”××™××™×™×œ ×©×œ×š ××©×•×™×š ×œ××•× ×™×‘×¨×¡×™×˜×” ×××•×©×¨×ª.',
    action: '× ×¡×” ×©×•×‘'
  },
  
  Configuration: {
    title: '×©×’×™××ª ×ª×¦×•×¨×”',
    message: '×™×© ×‘×¢×™×” ×‘×”×’×“×¨×•×ª ×”××¢×¨×›×ª. ×× × ×¤× ×” ×œ×ª××™×›×” ×˜×›× ×™×ª.',
    action: '×¤× ×” ×œ×ª××™×›×”'
  },
  
  Verification: {
    title: '× ×“×¨×© ××™××•×ª × ×•×¡×£',
    message: '× ×“×¨×© ××™××•×ª × ×•×¡×£ ×©×œ ×¤×¨×˜×™ ×”××•×“×œ. ×‘×“×•×§ ××ª ×”××™××™×™×œ ×©×œ×š.',
    action: '×‘×“×•×§ ××™××™×™×œ'
  },
  
  // University Domain Errors
  InvalidDomain: {
    title: '×“×•××™×™×Ÿ ×œ× ×××•×©×¨',
    message: '×›×ª×•×‘×ª ×”××™××™×™×œ ×¦×¨×™×›×” ×œ×”×™×•×ª ××©×•×™×›×ª ×œ××•× ×™×‘×¨×¡×™×˜×” ×××•×©×¨×ª (×œ××©×œ: @bgu.ac.il)',
    action: '×”×©×ª××© ×‘××™××™×™×œ ××•× ×™×‘×¨×¡×™×˜××™'
  },
  
  // Moodle Authentication Errors
  MoodleAuthFailed: {
    title: '×›× ×™×¡×” ×œ××•×“×œ × ×›×©×œ×”',
    message: '×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ×œ××•×“×œ ×©×’×•×™×™×. ×‘×“×•×§ ×©× ××©×ª××© ×•×¡×™×¡××”.',
    action: '× ×¡×” ×©×•×‘'
  },
  
  MoodleTimeout: {
    title: '×¤×’ ×ª×•×§×£ ×”×—×™×‘×•×¨',
    message: '×”×—×™×‘×•×¨ ×œ××•×“×œ ×¤×’ ×ª×•×§×£. ×™×™×ª×›×Ÿ ×©×”×©×¨×ª ×¢××•×¡.',
    action: '× ×¡×” ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨'
  },
  
  // Network Errors
  NetworkError: {
    title: '×©×’×™××ª ×¨×©×ª',
    message: '×‘×¢×™×” ×‘×—×™×‘×•×¨ ×œ××™× ×˜×¨× ×˜. ×‘×“×•×§ ××ª ×”×—×™×‘×•×¨ ×©×œ×š ×•× ×¡×” ×©×•×‘.',
    action: '×‘×“×•×§ ×—×™×‘×•×¨'
  },
  
  // Rate Limiting
  TooManyAttempts: {
    title: '×™×•×ª×¨ ××“×™ × ×™×¡×™×•× ×•×ª',
    message: '×™×•×ª×¨ ××“×™ × ×™×¡×™×•× ×•×ª ×”×ª×—×‘×¨×•×ª. × ×¡×” ×©×•×‘ ×‘×¢×•×“ ×›××” ×“×§×•×ª.',
    action: '×”××ª×Ÿ ×•× ×¡×” ×©×•×‘'
  },
  
  // Session Errors
  SessionExpired: {
    title: '×ª× ×ª×•×§×£ ×”×”×¤×¢×œ×”',
    message: '×¤×’ ×ª×•×§×£ ×”×”×¤×¢×œ×” ×©×œ×š. × ×“×¨×©×ª ×”×ª×—×‘×¨×•×ª ××—×“×©.',
    action: '×”×ª×—×‘×¨ ××—×“×©'
  },
  
  // General Errors
  UnknownError: {
    title: '×©×’×™××” ×œ× ×™×“×•×¢×”',
    message: '××™×¨×¢×” ×©×’×™××” ×‘×œ×ª×™ ×¦×¤×•×™×”. ×× × × ×¡×” ×©×•×‘ ××• ×¤× ×” ×œ×ª××™×›×”.',
    action: '× ×¡×” ×©×•×‘'
  },

  // Smart Authentication Specific Errors
  AutoAuthFailed: {
    title: '×”×ª×—×‘×¨×•×ª ××•×˜×•××˜×™×ª × ×›×©×œ×”',
    message: '×œ× ×”×¦×œ×—× ×• ×œ×”×ª×—×‘×¨ ××•×˜×•××˜×™×ª ×¢× ×”×¤×¨×˜×™× ×”×©××•×¨×™× ×©×œ×š. ×™×™×ª×›×Ÿ ×©×”×¡×™×¡××” ×©×•× ×ª×” ×‘××•× ×™×‘×¨×¡×™×˜×”.',
    action: '×”×–×Ÿ ×¡×™×¡××” ×—×“×©×”'
  },

  CredentialsExpired: {
    title: '×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ×¤×’×•',
    message: '×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ×”×©××•×¨×™× ×‘××¢×¨×›×ª ××™× × ×ª×§×¤×™× ×™×•×ª×¨.',
    action: '×¢×“×›×Ÿ ×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª'
  },

  RevalidationRequired: {
    title: '× ×“×¨×© ××™××•×ª ××—×“×©',
    message: '×¢×‘×¨ ×–××Ÿ ×¨×‘ ×××– ×”××™××•×ª ×”××—×¨×•×Ÿ ×©×œ ×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª. × ×“×¨×© ××™××•×ª ××—×“×© ×œ××¢×Ÿ ×”×‘×™×˜×—×•×Ÿ.',
    action: '×××ª ×¤×¨×˜×™× ××—×“×©'
  },

  ValidationAttemptsExceeded: {
    title: '×—×¨×’×ª ×××¡×¤×¨ ×”× ×™×¡×™×•× ×•×ª',
    message: '×‘×™×¦×¢×ª ×™×•×ª×¨ ××“×™ × ×™×¡×™×•× ×•×ª ××™××•×ª ×›×•×©×œ×™×. ×—×©×‘×•× ×š × ×—×¡× ×–×× ×™×ª.',
    action: '×”××ª×Ÿ 15 ×“×§×•×ª'
  },

  UniversityNotSupported: {
    title: '××•× ×™×‘×¨×¡×™×˜×” ×œ× × ×ª××›×ª',
    message: '×›×¨×’×¢ ×× ×—× ×• ×ª×•××›×™× ×¨×§ ×‘××•× ×™×‘×¨×¡×™×˜×ª ×‘×Ÿ-×’×•×¨×™×•×Ÿ. ×ª××™×›×” ×‘××•× ×™×‘×¨×¡×™×˜××•×ª × ×•×¡×¤×•×ª ×ª×ª×•×•×¡×£ ×‘×§×¨×•×‘.',
    action: '×”×©×ª××© ×‘××™×™×œ BGU'
  },

  PythonValidatorError: {
    title: '×©×’×™××” ×‘××¢×¨×›×ª ×”××™××•×ª',
    message: '×©×’×™××” ×˜×›× ×™×ª ×‘××¢×¨×›×ª ××™××•×ª ×”×¤×¨×˜×™×. ×”××¢×¨×›×ª ×œ× ×”×¦×œ×™×—×” ×œ×‘×“×•×§ ××ª ×”×¤×¨×˜×™× ×©×œ×š.',
    action: '× ×¡×” ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨'
  },

  EncryptionError: {
    title: '×©×’×™××” ×‘×”×¦×¤× ×ª ×”× ×ª×•× ×™×',
    message: '×©×’×™××” ×‘×”×¦×¤× ×ª ×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª. ×”× ×ª×•× ×™× ×©×œ×š ×œ× × ×©××¨×•.',
    action: '× ×¡×” ×©×•×‘'
  },

  DatabaseError: {
    title: '×©×’×™××” ×‘××¡×“ ×”× ×ª×•× ×™×',
    message: '×©×’×™××” ×‘×©××™×¨×ª ××• ×§×¨×™××ª ×”× ×ª×•× ×™× ×××¡×“ ×”× ×ª×•× ×™×.',
    action: '× ×¡×” ×©×•×‘ ×××•×—×¨ ×™×•×ª×¨'
  },

  DevelopmentModeError: {
    title: '×©×’×™××” ×‘××¦×‘ ×¤×™×ª×•×—',
    message: '×©×’×™××” ×©××ª×¨×—×©×ª ×¨×§ ×‘××¦×‘ ×¤×™×ª×•×— ×©×œ ×”××¢×¨×›×ª.',
    action: '×¤× ×” ×œ××¤×ª×—'
  },

  SmartFlowError: {
    title: '×©×’×™××” ×‘×–×¨×™××ª ×”××™××•×ª ×”×—×›××”',
    message: '×©×’×™××” ×‘×§×‘×™×¢×ª ×¦×¢×“×™ ×”××™××•×ª ×”××ª××™××™× ×œ×¡×˜×˜×•×¡ ×©×œ×š.',
    action: '×”×ª×—×‘×¨ ××—×“×©'
  }
} as const;

// University Domain Validation
export const ISRAELI_UNIVERSITIES = {
  'post.bgu.ac.il': {
    name: '××•× ×™×‘×¨×¡×™×˜×ª ×‘×Ÿ-×’×•×¨×™×•×Ÿ ×‘× ×’×‘',
    nameEn: 'Ben-Gurion University of the Negev',
    moodleUrl: 'https://moodle.bgu.ac.il',
    logoUrl: '/logos/bgu.png'
  },
  'technion.ac.il': {
    name: '×”×˜×›× ×™×•×Ÿ - ××›×•×Ÿ ×˜×›× ×•×œ×•×’×™ ×œ×™×©×¨××œ',
    nameEn: 'Technion - Israel Institute of Technology',
    moodleUrl: 'https://moodle.technion.ac.il',
    logoUrl: '/logos/technion.png'
  },
  'mail.tau.ac.il': {
    name: '××•× ×™×‘×¨×¡×™×˜×ª ×ª×œ ××‘×™×‘',
    nameEn: 'Tel Aviv University',
    moodleUrl: 'https://moodle.tau.ac.il',
    logoUrl: '/logos/tau.png'
  },
  'mail.huji.ac.il': {
    name: '××•× ×™×‘×¨×¡×™×˜×ª ×‘×Ÿ-×’×•×¨×™×•×Ÿ ×‘× ×’×‘',
    nameEn: 'The Hebrew University of Jerusalem',
    moodleUrl: 'https://moodle.huji.ac.il',
    logoUrl: '/logos/huji.png'
  },
  'campus.haifa.ac.il': {
    name: '××•× ×™×‘×¨×¡×™×˜×ª ×—×™×¤×”',
    nameEn: 'University of Haifa',
    moodleUrl: 'https://moodle.haifa.ac.il',
    logoUrl: '/logos/haifa.png'
  },
  'biu.ac.il': {
    name: '××•× ×™×‘×¨×¡×™×˜×ª ×‘×¨-××™×œ×Ÿ',
    nameEn: 'Bar-Ilan University',
    moodleUrl: 'https://moodle.biu.ac.il',
    logoUrl: '/logos/biu.png'
  },
  'ariel.ac.il': {
    name: '××•× ×™×‘×¨×¡×™×˜×ª ××¨×™××œ',
    nameEn: 'Ariel University',
    moodleUrl: 'https://moodle.ariel.ac.il',
    logoUrl: '/logos/ariel.png'
  },
  'openu.ac.il': {
    name: '×”××•× ×™×‘×¨×¡×™×˜×” ×”×¤×ª×•×—×”',
    nameEn: 'The Open University of Israel',
    moodleUrl: 'https://moodle.openu.ac.il',
    logoUrl: '/logos/openu.png'
  }
} as const;

// Helper function to get Hebrew error message
export function getHebrewErrorMessage(errorCode: string): {
  title: string;
  message: string;
  action: string;
} {
  const error = AUTH_ERRORS_HE[errorCode as keyof typeof AUTH_ERRORS_HE];
  return error || AUTH_ERRORS_HE.UnknownError;
}

// Helper function to validate university email domain
export function validateUniversityEmail(email: string): {
  isValid: boolean;
  university?: typeof ISRAELI_UNIVERSITIES[keyof typeof ISRAELI_UNIVERSITIES];
  domain?: string;
  error?: string;
} {
  if (!email || !email.includes('@')) {
    return {
      isValid: false,
      error: '×›×ª×•×‘×ª ××™××™×™×œ ×œ× ×—×•×§×™×ª'
    };
  }
  
  const domain = email.split('@')[1]?.toLowerCase();
  if (!domain) {
    return {
      isValid: false,
      error: '×“×•××™×™×Ÿ ×”××™××™×™×œ ×œ× ×—×•×§×™'
    };
  }
  
  // Check for exact match first
  if (domain in ISRAELI_UNIVERSITIES) {
    return {
      isValid: true,
      university: ISRAELI_UNIVERSITIES[domain as keyof typeof ISRAELI_UNIVERSITIES],
      domain
    };
  }
  
  // Check for subdomain matches (e.g., student.bgu.ac.il)
  for (const [universityDomain, universityInfo] of Object.entries(ISRAELI_UNIVERSITIES)) {
    if (domain.endsWith(universityDomain)) {
      return {
        isValid: true,
        university: universityInfo,
        domain: universityDomain
      };
    }
  }
  
  return {
    isValid: false,
    error: `×“×•××™×™×Ÿ ${domain} ××™× ×• ×©×™×™×š ×œ××•× ×™×‘×¨×¡×™×˜×” ×××•×©×¨×ª`
  };
}

// Helper function to format Hebrew error for display
export function formatHebrewError(errorCode: string, additionalInfo?: string): string {
  const error = getHebrewErrorMessage(errorCode);
  let formatted = `${error.title}: ${error.message}`;
  
  if (additionalInfo) {
    formatted += ` (${additionalInfo})`;
  }
  
  return formatted;
}

// Success Messages in Hebrew
export const AUTH_SUCCESS_HE = {
  GoogleLogin: '×”×ª×—×‘×¨×•×ª ×¢× Google ×‘×•×¦×¢×” ×‘×”×¦×œ×—×”',
  MoodleSync: '×¡× ×›×¨×•×Ÿ ×¢× ××•×“×œ ×”×•×©×œ× ×‘×”×¦×œ×—×”',
  ProfileComplete: '×”×¤×¨×•×¤×™×œ ×©×œ×š ×”×•×©×œ× ×‘×”×¦×œ×—×”',
  Welcome: '×‘×¨×•×š ×”×‘× ×œ×¤×œ×˜×¤×•×¨××ª Spike!',
  DataSynced: '×”× ×ª×•× ×™× ×©×œ×š ×¡×•× ×›×¨× ×• ×‘×”×¦×œ×—×”',
  
  // Smart Authentication Success Messages
  AutoAuthSuccess: 'ğŸš€ ×”×ª×—×‘×¨×•×ª ××•×˜×•××˜×™×ª ×”×¦×œ×™×—×”!',
  CredentialsSaved: 'ğŸ’¾ ×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª × ×©××¨×• ×‘×”×¦×œ×—×”',
  CredentialsUpdated: 'ğŸ”„ ×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ×¢×•×“×›× ×• ×‘×”×¦×œ×—×”',
  ValidationSuccess: 'âœ… ×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ××•××ª×• ×‘×”×¦×œ×—×”',
  NewUserSuccess: 'ğŸ‰ ×”×¨×©××” ×¨××©×•× ×™×ª ×”×•×©×œ××” ×‘×”×¦×œ×—×”!',
  RevalidationSuccess: 'ğŸ” ××™××•×ª ××—×“×© ×”×•×©×œ× ×‘×”×¦×œ×—×”',
  OnboardingComplete: 'ğŸ“ ×”×”×¨×©××” ×”×•×©×œ××”! ××¢×‘×™×¨ ×œ×“×©×‘×•×¨×“...',
  SmartFlowComplete: 'âš¡ ×ª×”×œ×™×š ×”××™××•×ª ×”×—×›× ×”×•×©×œ× ×‘×”×¦×œ×—×”'
} as const;

// Progress Messages for Loading States
export const PROGRESS_MESSAGES_HE = {
  CheckingStatus: '×‘×•×“×§ ×¡×˜×˜×•×¡ ××™××•×ª...',
  Connecting: '××ª×—×‘×¨ ×œ××¢×¨×›×ª ×”××•× ×™×‘×¨×¡×™×˜×”...',
  AutoConnecting: 'ğŸš€ ×× ×¡×” ×”×ª×—×‘×¨×•×ª ××•×˜×•××˜×™×ª...',
  Validating: 'ğŸ” ××××ª ×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª...',
  Saving: 'ğŸ’¾ ×©×•××¨ ×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª...',
  Completing: 'âœ¨ ××©×œ×™× ×”×¨×©××”...',
  Redirecting: 'â¡ï¸ ××¢×‘×™×¨ ×œ×“×©×‘×•×¨×“...',
  Loading: '×˜×•×¢×Ÿ...',
  Processing: '××¢×‘×“ × ×ª×•× ×™×...',
  Syncing: '××¡× ×›×¨×Ÿ ×¢× ×”××•× ×™×‘×¨×¡×™×˜×”...',
  Decrypting: 'ğŸ”“ ××¤×¢× ×— × ×ª×•× ×™×...',
  Encrypting: 'ğŸ”’ ××¦×¤×™×Ÿ × ×ª×•× ×™×...'
} as const;

// Form Validation Messages
export const FORM_VALIDATION_HE = {
  RequiredField: '×©×“×” ×—×•×‘×”',
  InvalidEmail: '×›×ª×•×‘×ª ××™×™×œ ×œ× ×ª×§×¤×”',
  EmailNotUniversity: '× ×“×¨×© ××™×™×œ ×©×œ ××•× ×™×‘×¨×¡×™×˜×ª ×‘×Ÿ-×’×•×¨×™×•×Ÿ',
  PasswordTooShort: '×”×¡×™×¡××” ×§×¦×¨×” ××“×™ (××™× ×™××•× 8 ×ª×•×•×™×)',
  PasswordTooLong: '×”×¡×™×¡××” ××¨×•×›×” ××“×™ (××§×¡×™××•× 128 ×ª×•×•×™×)',
  UsernameTooShort: '×©× ×”××©×ª××© ×§×¦×¨ ××“×™',
  UsernameTooLong: '×©× ×”××©×ª××© ××¨×•×š ××“×™',
  SpecialCharacters: '××¡×•×¨ ×œ×”×©×ª××© ×‘×ª×•×•×™× ××™×•×—×“×™×',
  NumericOnly: '×¨×§ ××¡×¤×¨×™× ××•×ª×¨×™×',
  InvalidCharacters: '×ª×•×•×™× ×œ× ×ª×§×¤×™×',
  FieldEmpty: '×”×©×“×” ×¨×™×§'
} as const;

// Contextual Messages based on Authentication Flow
export const FLOW_MESSAGES_HE = {
  new_user: {
    title: '××©×ª××© ×—×“×©',
    subtitle: '×‘×•××• × ×’×“×™×¨ ××ª ×”×¤×¨×˜×™× ×©×œ×š',
    description: '×–×•×”×™ ×”×¤×¢× ×”×¨××©×•× ×” ×©×œ×š ×‘××¢×¨×›×ª'
  },
  existing_user_auto: {
    title: '×”×ª×—×‘×¨×•×ª ××•×˜×•××˜×™×ª',
    subtitle: '××ª×—×‘×¨ ××•×˜×•××˜×™×ª ×¢× ×”×¤×¨×˜×™× ×”×©××•×¨×™×',
    description: '××©×ª××© ×‘×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ×”×©××•×¨×™× ×©×œ×š'
  },
  existing_user_manual: {
    title: '×¢×“×›×•×Ÿ ×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª',
    subtitle: '× × ×œ×”×–×™×Ÿ ××ª ×”×¡×™×¡××” ×”× ×•×›×—×™×ª',
    description: '× ××¦××• ×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª ×§×™×™××™× ×”×–×§×•×§×™× ×œ×¢×“×›×•×Ÿ'
  },
  existing_user_revalidate: {
    title: '××™××•×ª ×¤×¨×˜×™× ××—×“×©',
    subtitle: '× ×“×¨×© ××™××•×ª ××—×“×© ×œ××¢×Ÿ ×”×‘×™×˜×—×•×Ÿ',
    description: '×¤×¨×˜×™ ×”×”×ª×—×‘×¨×•×ª ×–×§×•×§×™× ×œ××™××•×ª ××—×“×©'
  }
} as const;