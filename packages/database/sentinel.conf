# Redis Sentinel Configuration for Spike Platform
# High availability configuration

# Network
bind 0.0.0.0
port 26379
daemonize no
supervised no
pidfile /var/run/redis-sentinel.pid
loglevel notice
logfile ""
databases 1

# Sentinel Configuration
sentinel monitor mymaster redis-master 6379 2
sentinel auth-pass mymaster ${REDIS_PASSWORD:-password}
sentinel down-after-milliseconds mymaster 5000
sentinel parallel-syncs mymaster 1
sentinel failover-timeout mymaster 10000
sentinel notification-script mymaster /var/redis/notify.sh
sentinel client-reconfig-script mymaster /var/redis/reconfig.sh

# Additional Sentinel Settings
sentinel deny-scripts-reconfig yes
sentinel resolve-hostnames no
sentinel announce-hostnames no
sentinel announce-ip ""
sentinel announce-port 26379

# Logging
sentinel logfile ""
sentinel syslog-ident sentinel
sentinel syslog-facility local0

# Security
sentinel auth-user mymaster default
sentinel auth-pass mymaster ${REDIS_PASSWORD:-password}

# Monitoring
sentinel monitor mymaster redis-master 6379 2
sentinel down-after-milliseconds mymaster 5000
sentinel parallel-syncs mymaster 1
sentinel failover-timeout mymaster 10000 